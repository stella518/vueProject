webpackJsonp([1],{"7nXA":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={props:{row:Object}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Row",{staticClass:"expand-row"},[o("Col",{attrs:{span:"12"}},[o("span",{staticClass:"expand-key"},[t._v("地址: ")]),t._v(" "),o("span",{staticClass:"expand-value"},[t._v(t._s(t.row.address))])]),t._v(" "),o("Col",{attrs:{span:"12"}},[o("span",{staticClass:"expand-key"},[t._v("简述: ")]),t._v(" "),o("span",{staticClass:"expand-value"},[t._v(t._s(t.row.descript))])])],1)],1)},staticRenderFns:[]};var a=o("Z0/y")(n,r,!1,function(t){o("GeqT")},"data-v-278d4a1f",null).exports,s={components:{expandRow:a},data:function(){var t=this;return{fullHeight:document.documentElement.clientHeight-73,organList:[{type:"expand",width:50,render:function(t,e){return t(a,{props:{row:e.row}})}},{title:"机构名称",key:"name",render:function(t,e){return t("div",[t("Icon",{props:{type:"person"}}),t("strong",e.row.name)])}},{title:"机构编号",key:"orgNo"},{title:"联系电话",key:"phone"},{title:"机构负责人",key:"principal"},{title:"状态",key:"status"},{title:"类型",key:"type"},{title:"操作",key:"action",width:150,align:"center",render:function(e,o){return e("div",[e("Button",{props:{type:"primary",size:"small",row:o.row},style:{marginRight:"5px"},on:{click:function(){console.log(o.row.orgId),t.edit(o.row)}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.choose_index=o.index,t.deleteMol=!0}}},"删除")])}}],organData:[],page:1,size:10,total:10,deleteMol:!1,delete_loading:!1,choose_index:-1,organStatus:["启用","废弃","未开通"],organType:["资金方","合作结构","郑投"],formItem:{id:"",name:"",principal:"",phone:"",descript:"",address:"",orgNo:"",status:"",type:"",token:this.$store.state.token},formInline:{name:"",principal:"",phone:"",type:"",status:"",orgNo:""}}},created:function(){this.getOrganizaList()},methods:{getOrganizaList:function(){var t=this;this.$api.post("/org/getOrganizaList/"+this.page+"/"+this.size,this.formInline,function(e){console.log(e),"SUCCESS"==e.status&&(t.organData=e.data,t.total=e.total_count)})},del:function(){var t=this,e=parseInt(this.choose_index),o=this.organData[e].orgId;this.delete_loading=!0,this.$api.post("/org/delOrganiza/"+o,{},function(e){console.log(e),t.delete_loading=!1,t.deleteMol=!1,"E030005"==e.status&&t.$Message.info({content:e.desc,duration:10})})},edit:function(t){var e=this;this.formItem.id=t.orgId,this.formItem.name=t.name,this.formItem.principal=t.principal,this.formItem.phone=t.phone,this.formItem.descript=t.descript,this.formItem.address=t.address,this.formItem.orgNo=t.orgNo,this.formItem.status=t.status,this.formItem.type=t.type,this.$Modal.confirm({render:function(o){return o("Form",[o("FormItem",[o("Input",{props:{value:t.name,autofocus:!0,placeholder:"请输入机构名称",fixed:"left"},on:{input:function(t){e.formItem.name=t}}})]),o("FormItem",[o("Input",{props:{value:t.orgNo,autofocus:!0,placeholder:"请输入机构编号"},on:{input:function(t){e.formItem.orgNo=t}}})]),o("FormItem",[o("Input",{props:{value:t.phone,autofocus:!0,placeholder:"请输入联系电话"},on:{input:function(t){e.formItem.phone=t}}})]),o("FormItem",[o("Input",{props:{value:t.principal,autofocus:!0,placeholder:"请输入机构负责人"},on:{input:function(t){e.formItem.principal=t}}})]),o("FormItem",[o("Select",{props:{placeholder:"请选择状态",value:t.status},on:{"on-change":function(t){e.formItem.status=t}}},e.organStatus.map(function(t){return o("Option",{props:{value:t,label:t}})}))]),o("FormItem",[o("Select",{props:{placeholder:"请选择类型",value:t.type},on:{"on-change":function(t){e.formItem.type=t}}},e.organType.map(function(t){return o("Option",{props:{value:t,label:t}})}))]),o("FormItem",[o("Input",{props:{value:t.address,autofocus:!0,type:"textarea",placeholder:"请输入地址"},on:{input:function(t){e.formItem.address=t}}})]),o("FormItem",[o("Input",{props:{value:t.descript,autofocus:!0,type:"textarea",placeholder:"请输入简述"},on:{input:function(t){e.formItem.descript=t}}})])])},onOk:function(){var t=e.formItem.id;e.$api.post("/org/editOrganiza/"+t,e.formItem,function(t){console.log(t),"SUCCESS"==t.status&&(e.$Message.success(t.desc),e.getOrganizaList())})}})},addOrg:function(){var t=this;this.formItem.id="",this.formItem.name="",this.formItem.principal="",this.formItem.phone="",this.formItem.descript="",this.formItem.address="",this.formItem.orgNo="",this.formItem.status="",this.formItem.type="",this.$Modal.confirm({render:function(e){return e("Form",[e("FormItem",[e("Input",{props:{value:"",autofocus:!0,placeholder:"请输入机构名称"},on:{input:function(e){t.formItem.name=e}}})]),e("FormItem",[e("Input",{props:{value:"",autofocus:!0,placeholder:"请输入机构编号"},on:{input:function(e){t.formItem.orgNo=e}}})]),e("FormItem",[e("Input",{props:{value:"",autofocus:!0,placeholder:"请输入联系电话"},on:{input:function(e){t.formItem.phone=e}}})]),e("FormItem",[e("Input",{props:{value:"",autofocus:!0,placeholder:"请输入机构负责人"},on:{input:function(e){t.formItem.principal=e}}})]),e("FormItem",[e("Select",{props:{placeholder:"请选择状态"},on:{"on-change":function(e){t.formItem.status=e}}},t.organStatus.map(function(t){return e("Option",{props:{value:t,label:t}})}))]),e("FormItem",[e("Select",{props:{placeholder:"请选择类型"},on:{"on-change":function(e){t.formItem.type=e}}},t.organType.map(function(t){return e("Option",{props:{value:t,label:t}})}))]),e("FormItem",[e("Input",{props:{value:"",autofocus:!0,type:"textarea",placeholder:"请输入地址"},on:{input:function(e){t.formItem.address=e}}})]),e("FormItem",[e("Input",{props:{value:"",autofocus:!0,type:"textarea",placeholder:"请输入简述"},on:{input:function(e){t.formItem.descript=e}}})])])},onOk:function(){var e=t.formItem.token;console.log(t.formItem),t.$api.post("/org/addOrganiza/"+e,t.formItem,function(e){console.log(e),"SUCCESS"==e.status&&(t.$Message.success(e.desc),t.getOrganizaList())})}})},changePage:function(t){this.page=t,this.getOrganizaList()},handleSubmit:function(t){this.getOrganizaList()}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:{minWidth:"600px",overflow:"scroll"}},[o("layout",[o("Form",{ref:"formInline",staticStyle:{float:"right"},attrs:{model:t.formInline,inline:"","label-width":80}},[o("Row",[o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",{attrs:{prop:"name",label:"机构名称"}},[o("Input",{attrs:{type:"text",placeholder:"机构名称"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}},[o("Icon",{attrs:{slot:"prepend",type:"android-home"},slot:"prepend"})],1)],1)],1),t._v(" "),o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",{attrs:{prop:"principal",label:"机构负责人"}},[o("Input",{attrs:{type:"text",placeholder:"机构负责人"},model:{value:t.formInline.principal,callback:function(e){t.$set(t.formInline,"principal",e)},expression:"formInline.principal"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-person"},slot:"prepend"})],1)],1)],1),t._v(" "),o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",{attrs:{prop:"phone",label:"手机号"}},[o("Input",{attrs:{type:"text",placeholder:"手机号"},model:{value:t.formInline.phone,callback:function(e){t.$set(t.formInline,"phone",e)},expression:"formInline.phone"}},[o("Icon",{attrs:{slot:"prepend",type:"iphone"},slot:"prepend"})],1)],1)],1),t._v(" "),o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:0}},[o("Button",{staticClass:"addBtn",attrs:{icon:"plus-round",type:"primary"},on:{click:function(e){t.addOrg()}}},[t._v("新增")])],1),t._v(" "),o("Col",{attrs:{sm:0,md:0,lg:0,xs:12}},[o("FormItem",{attrs:{label:"状态"}},[o("Select",{staticStyle:{width:"165px"},attrs:{size:"large"},model:{value:t.formInline.status,callback:function(e){t.$set(t.formInline,"status",e)},expression:"formInline.status"}},t._l(t.organStatus,function(e){return o("Option",{key:e.id,attrs:{value:e}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",{attrs:{prop:"orgNo",label:"机构编号"}},[o("Input",{attrs:{type:"text",placeholder:"机构编号"},model:{value:t.formInline.orgNo,callback:function(e){t.$set(t.formInline,"orgNo",e)},expression:"formInline.orgNo"}},[o("Icon",{attrs:{slot:"prepend",type:"grid"},slot:"prepend"})],1)],1)],1),t._v(" "),o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",{attrs:{label:"类型"}},[o("Select",{staticStyle:{width:"165px"},attrs:{size:"large"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},t._l(t.organType,function(e){return o("Option",{key:e.id,attrs:{value:e}},[t._v(t._s(e))])}))],1)],1),t._v(" "),o("Col",{attrs:{span:"6",sm:6,md:6,lg:6,xs:0}},[o("FormItem",{attrs:{label:"状态"}},[o("Select",{staticStyle:{width:"165px"},attrs:{size:"large"},model:{value:t.formInline.status,callback:function(e){t.$set(t.formInline,"status",e)},expression:"formInline.status"}},t._l(t.organStatus,function(e){return o("Option",{key:e.id,attrs:{value:e}},[t._v(t._s(e))])}))],1)],1),t._v(" "),o("Col",{attrs:{sm:0,md:0,lg:0,xs:12}},[o("Button",{staticClass:"addBtn",attrs:{icon:"plus-round",type:"primary"},on:{click:function(e){t.addOrg()}}},[t._v("新增")])],1),t._v(" "),o("Col",{staticClass:"search",attrs:{span:"6",sm:6,md:6,lg:6,xs:12}},[o("FormItem",[o("Button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"ios-search",size:"large"},on:{click:function(e){t.handleSubmit("formInline")}}},[t._v("查询")])],1)],1)],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"24"}},[o("Card",[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"ios-list"}}),t._v("\n                    机构\n                ")],1),t._v(" "),o("Row",{staticClass:"advanced-router",attrs:{type:"flex",justify:"center",align:"middle"}},[o("Table",{ref:"selection",attrs:{height:"500",columns:t.organList,data:t.organData}})],1),t._v(" "),o("Page",{staticClass:"pager",attrs:{total:t.total},on:{"on-change":t.changePage}}),t._v(" "),o("modal",{attrs:{width:"360"},model:{value:t.deleteMol,callback:function(e){t.deleteMol=e},expression:"deleteMol"}},[o("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("icon",{attrs:{type:"information-circled"}}),t._v(" "),o("span",[t._v("确认删除")])],1),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("p",[t._v("您是否确定删除此条记录")])]),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("i-button",{attrs:{type:"error",size:"large",long:"",loading:t.delete_loading},on:{click:t.del}},[t._v("删除")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var l=o("Z0/y")(s,i,!1,function(t){o("dbtZ")},"data-v-14e499e5",null);e.default=l.exports},GeqT:function(t,e){},dbtZ:function(t,e){}});
//# sourceMappingURL=1.d6f6f15d6ed41514dcc0.js.map