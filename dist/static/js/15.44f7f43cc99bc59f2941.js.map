{"version":3,"sources":["webpack:///src/page/product/contract.vue","webpack:///./src/page/product/contract.vue?21a9","webpack:///./src/page/product/contract.vue"],"names":["contract","_this","this","row","token","getContractList","_this2","r","data","url","product_contract","render","_vm","_h","$createElement","_c","_self","_b","attrs","multiple","type","format","on-success","handleSuccess","on-format-error","handleFormatError","on-exceeded-size","handleMaxSize","action","staticStyle","padding","color","size","_v","height","columns","contractList","contractData","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"sGAmBA,IAAAA,mBAEA,IAAAC,EAAAC,6DAEA,wBAGA,WAEA,oBAEA,WAEA,wBAEA,SACA,YACA,UACA,sEAKA,eACA,cAEAC,wBAGA,4CAGAA,QAIA,mDAKAC,oBAEA,4BAGAC,uDAGA,IAAAC,EAAAJ,sFAEAK,0CAEAC,0CAKAH,6EAIA,6BAEA,2EAIA,4BAEA,uDAGAI,QCzFAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAV,KAAaW,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAAA,EAAA,SAAAH,EAAAK,IAAwCC,OAAOC,SAAA,GAAAC,KAAA,OAAAC,QAAA,OAAAC,aAAAV,EAAAW,cAAAC,kBAAAZ,EAAAa,kBAAAC,mBAAAd,EAAAe,gBAA0J,UAAWC,OAAA,gCAAAhB,EAAAR,QAAiD,IAAAW,EAAA,OAAmBc,aAAaC,QAAA,YAAoBf,EAAA,QAAac,aAAaE,MAAA,WAAkBb,OAAQE,KAAA,mBAAAY,KAAA,QAAuCpB,EAAAqB,GAAA,KAAAlB,EAAA,KAAAH,EAAAqB,GAAA,sBAAArB,EAAAqB,GAAA,KAAAlB,EAAA,SAA2EG,OAAOgB,OAAA,MAAAC,QAAAvB,EAAAwB,aAAA5B,KAAAI,EAAAyB,iBAAmE,IAEjnBC,oBCYjBC,EAdAC,EAAA,OAcAC,CACAzC,EACAU,GATA,EAEA,KAEA,KAEA,MAUAgC,EAAA,QAAAH,EAAA","file":"static/js/15.44f7f43cc99bc59f2941.js","sourcesContent":["<template>\r\n\t<layout>\r\n\t\t<Upload\r\n\t        multiple\r\n\t        type=\"drag\"\r\n\t\t\t:format=\"['pdf']\"\r\n\t\t\t:on-success=\"handleSuccess\"\r\n\t\t\t:on-format-error=\"handleFormatError\"\r\n        \t:on-exceeded-size=\"handleMaxSize\"\r\n\t\t\tv-bind=\"{action:'/api/contract/uploadContract/'+token}\">\r\n\t        <div style=\"padding: 20px 0\">\r\n\t            <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\r\n\t            <p>请点击或拖拽上传文件</p>\r\n\t        </div>\r\n\t    </Upload>\r\n\t\t<Table height=\"600\" :columns=\"contractList\" :data=\"contractData\"></Table>\r\n\t</layout>\r\n</template>\r\n<script type=\"text/babel\">\r\nexport default {\r\n  data () {\r\n    return {\r\n      fullHeight: document.documentElement.clientHeight-73,\r\n      contractList:[\r\n        {\r\n            title: '合同编号',\r\n            key: 'annexCode'\r\n        },\r\n        {\r\n            title: '合同类型',\r\n            key: 'annexTypeEnum'\r\n        },\r\n        {\r\n            title: '文件',\r\n            key: 'url',\r\n            width: 150,\r\n            align: 'center',\r\n            render: (h, params) => {\r\n                return h('div', [\r\n                    h('Button', {\r\n                        props: {\r\n                            type: 'primary',\r\n                            size: 'small',\r\n                            row:params.row,\r\n                        },\r\n                        style: {\r\n                            marginRight: '5px'\r\n                        },\r\n                        on: {\r\n                            click: () => {\r\n                              this.seeContract(params.row);\r\n                            }\r\n                        }\r\n                    }, '查看'),\r\n                ]);\r\n            }\r\n        }\r\n      ],\r\n      contractData:[],\r\n      token:this.$store.state.token,\r\n      choose_index:-1,\r\n    }\r\n  },\r\n  created(){\r\n    this.getContractList();\r\n  },\r\n  methods: {\r\n    getContractList(){\r\n      this.$api.post('/contract/getAllContract/'+this.token, {}, r => {\r\n        console.log(r)\r\n        if(r.status == 'SUCCESS'){\r\n          this.contractData = r.data;\r\n        }\r\n      })\r\n    },\r\n    handleSuccess (res, file) {\r\n\t\tthis.getContractList();\r\n\t},\r\n\thandleFormatError (file) {\r\n\t\tthis.$Notice.warning({\r\n\t\t\ttitle: '文件格式有误',\r\n\t\t\tdesc: '您的文件 ' + file.name + ' 格式有误， 请上传PDF文件'\r\n\t\t});\r\n\t},\r\n\thandleMaxSize (file) {\r\n\t\tthis.$Notice.warning({\r\n\t\t\ttitle: '上传文件过大',\r\n\t\t\tdesc: '文件  ' + file.name + '过大, 不能超过2M.'\r\n\t\t});\r\n\t},\r\n\tseeContract(param){\r\n\t\twindow.open(param.url);\r\n\t},\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/page/product/contract.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',[_c('Upload',_vm._b({attrs:{\"multiple\":\"\",\"type\":\"drag\",\"format\":['pdf'],\"on-success\":_vm.handleSuccess,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize}},'Upload',{action:'/api/contract/uploadContract/'+_vm.token},false),[_c('div',{staticStyle:{\"padding\":\"20px 0\"}},[_c('Icon',{staticStyle:{\"color\":\"#3399ff\"},attrs:{\"type\":\"ios-cloud-upload\",\"size\":\"52\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"请点击或拖拽上传文件\")])],1)]),_vm._v(\" \"),_c('Table',{attrs:{\"height\":\"600\",\"columns\":_vm.contractList,\"data\":_vm.contractData}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-1dfd6ac0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/page/product/contract.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./contract.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./contract.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1dfd6ac0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./contract.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/product/contract.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}